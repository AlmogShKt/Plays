<!doctype html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>××—×©×‘×•×Ÿ ×—×™×¡×›×•×Ÿ ×•×”×©×§×¢×”</title>
    <style>
      body {
        font-family: system-ui, Arial;
        margin: 24px;
      }
      .card {
        max-width: 800px;
        margin: 0 auto 24px;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 12px;
      }
      h2 {
        margin-top: 0;
      }
      .grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
      }
      label {
        font-size: 13px;
      }
      input,
      select,
      button {
        width: 100%;
        padding: 10px;
        border-radius: 10px;
        border: 1px solid #ccc;
        font-size: 14px;
      }
      button {
        cursor: pointer;
      }
      .result {
        margin-top: 14px;
        padding: 14px;
        background: #f6f7f8;
        border-radius: 10px;
      }
      .small {
        font-size: 12px;
        color: #555;
      }
      @media (max-width: 700px) {
        .grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <!-- ğŸ”¹ ××—×©×‘×•×Ÿ 1: ×›××” ×œ×”×¤×§×™×“ ×‘×—×•×“×© -->
    <div class="card">
      <h2>×›××” ×¦×¨×™×š ×œ×”×¤×§×™×“ ×‘×—×•×“×© ×›×“×™ ×œ×”×’×™×¢ ×œ×™×¢×“</h2>

      <div class="grid">
        <div>
          <label>×”×•×Ÿ ×”×ª×—×œ×ª×™ (â‚ª)</label>
          <input id="c1_initial" type="number" value="500000" />
        </div>

        <div>
          <label>×™×¢×“ ×¡×•×¤×™ (â‚ª)</label>
          <input id="c1_target" type="number" value="6000000" />
        </div>

        <div>
          <label>×©× ×•×ª ×—×™×¡×›×•×Ÿ</label>
          <input id="c1_years" type="number" value="12" />
        </div>

        <div>
          <label>×ª×©×•××” ×©× ×ª×™×ª (%)</label>
          <input id="c1_return" type="number" value="10" />
        </div>
      </div>

      <button onclick="calcMonthlyDeposit()">×—×©×‘</button>
      <div id="c1_output" class="result"></div>
    </div>

    <!-- ğŸ”¹ ××—×©×‘×•×Ÿ 2: ×›××” ×›×¡×£ ×™×”×™×” ×œ×™ -->
    <div class="card">
      <h2>×›××” ×›×¡×£ ×™×”×™×” ×œ×™ ×‘×¡×•×£ ×”×ª×§×•×¤×”</h2>

      <div class="grid">
        <div>
          <label>×¡×›×•× ×”×ª×—×œ×ª×™ (â‚ª)</label>
          <input id="c2_initial" type="number" value="500000" />
        </div>

        <div>
          <label>×”×¤×§×“×” ×—×•×“×©×™×ª (â‚ª)</label>
          <input id="c2_monthly" type="number" value="3000" />
        </div>

        <div>
          <label>×©× ×•×ª ×—×™×¡×›×•×Ÿ</label>
          <input id="c2_years" type="number" value="10" />
        </div>

        <div>
          <label>×ª×©×•××” ×©× ×ª×™×ª (%)</label>
          <input id="c2_return" type="number" value="12" />
        </div>

        <div>
          <label>××•×¢×“ ×”×¤×§×“×”</label>
          <select id="c2_timing">
            <option value="end">×¡×•×£ ×—×•×“×©</option>
            <option value="begin">×ª×—×™×œ×ª ×—×•×“×©</option>
          </select>
        </div>
      </div>

      <button onclick="calcFinalAmount()">×—×©×‘</button>
      <div id="c2_output" class="result"></div>
    </div>

    <script>
      const fmt = (n) => new Intl.NumberFormat("he-IL").format(Math.round(n));

      function monthlyRate(annual) {
        return Math.pow(1 + annual, 1 / 12) - 1;
      }

      // ××—×©×‘×•×Ÿ 1
      function calcMonthlyDeposit() {
        const pv = +c1_initial.value;
        const fv = +c1_target.value;
        const years = +c1_years.value;
        const annual = +c1_return.value / 100;

        const r = monthlyRate(annual);
        const n = years * 12;

        const pvFuture = pv * Math.pow(1 + r, n);
        const factor = (Math.pow(1 + r, n) - 1) / r;

        const pmt = (fv - pvFuture) / factor;

        c1_output.innerHTML = `
      ×”×¤×§×“×” ×—×•×“×©×™×ª × ×“×¨×©×ª: <b>${fmt(pmt)} â‚ª</b><br>
      <span class="small">×‘×”× ×—×ª ×¨×™×‘×™×ª ×“×¨×™×‘×™×ª ×—×•×“×©×™×ª</span>
    `;
      }

      // ××—×©×‘×•×Ÿ 2
      function calcFinalAmount() {
        const pv = +c2_initial.value;
        const pmt = +c2_monthly.value;
        const years = +c2_years.value;
        const annual = +c2_return.value / 100;
        const timing = c2_timing.value;

        const r = monthlyRate(annual);
        const n = years * 12;

        const pvFuture = pv * Math.pow(1 + r, n);
        const factor = (Math.pow(1 + r, n) - 1) / r;
        const adj = timing === "begin" ? 1 + r : 1;

        const depositsFuture = pmt * factor * adj;
        const total = pvFuture + depositsFuture;
        const totalDeposits = pmt * n;
        const profit = total - pv - totalDeposits;

        c2_output.innerHTML = `
      <b>×¡×›×•× ×¡×•×¤×™:</b> ${fmt(total)} â‚ª<br><br>
      ××”×”×•×Ÿ ×”×”×ª×—×œ×ª×™: ${fmt(pvFuture)} â‚ª<br>
      ××”×¤×§×“×•×ª: ${fmt(depositsFuture)} â‚ª<br>
      <b>×¨×•×•×— ××¦×˜×‘×¨:</b> ${fmt(profit)} â‚ª
    `;
      }
    </script>
  </body>
</html>
